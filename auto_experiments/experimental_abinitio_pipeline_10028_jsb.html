

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Abinitio Pipeline - Experimental Data EMPIAR 10028 &mdash; ASPIRE 0.14.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=9e420a66"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Abinitio Pipeline - Experimental Data EMPIAR 10073" href="experimental_abinitio_pipeline_10073_jsb.html" />
    <link rel="prev" title="Abinitio Halfset Pipeline - Experimental Data" href="example_halfset_pipeline_10028.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ASPIRE
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Getting Started - CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class_source.html">Class Averaging Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Galleries:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../auto_tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Experiments</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="example_halfset_pipeline_10028.html">Abinitio Halfset Pipeline - Experimental Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Abinitio Pipeline - Experimental Data EMPIAR 10028</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#imports">Imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#source-data-and-preprocessing">Source data and Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#class-averaging">Class Averaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-line-estimation">Common Line Estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#volume-reconstruction">Volume Reconstruction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="experimental_abinitio_pipeline_10073_jsb.html">Abinitio Pipeline - Experimental Data EMPIAR 10073</a></li>
<li class="toctree-l2"><a class="reference internal" href="experimental_abinitio_pipeline_10081.html">Abinitio Pipeline - Experimental Data Empiar 10081</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulated_abinitio_pipeline.html">Abinitio Pipeline - Simulated Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="commonline_lud_simulated_data.html">Commonlines Method using LUD</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ASPIRE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Experiments</a></li>
      <li class="breadcrumb-item active">Abinitio Pipeline - Experimental Data EMPIAR 10028</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/auto_experiments/experimental_abinitio_pipeline_10028_jsb.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-experiments-experimental-abinitio-pipeline-10028-jsb-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="abinitio-pipeline-experimental-data-empiar-10028">
<span id="sphx-glr-auto-experiments-experimental-abinitio-pipeline-10028-jsb-py"></span><h1>Abinitio Pipeline - Experimental Data EMPIAR 10028<a class="headerlink" href="#abinitio-pipeline-experimental-data-empiar-10028" title="Link to this heading">¶</a></h1>
<p>This notebook introduces a selection of
components corresponding to loading real Relion picked
particle cryo-EM data and running key ASPIRE-Python
ab initio model components as a pipeline.</p>
<p>This demonstrates reproducing results similar to those found in:</p>
<div class="admonition-publication admonition">
<p class="admonition-title">Publication</p>
<div class="line-block">
<div class="line">Common lines modeling for reference free Ab-initio reconstruction in cryo-EM</div>
<div class="line">Journal of Structural Biology 2017</div>
<div class="line"><a class="reference external" href="https://doi.org/10.1016/j.jsb.2017.09.007">https://doi.org/10.1016/j.jsb.2017.09.007</a></div>
</div>
</div>
<p>Specifically this pipeline uses the
EMPIAR 10028 picked particles data, available here:</p>
<p><a class="reference external" href="https://www.ebi.ac.uk/empiar/EMPIAR-10028">https://www.ebi.ac.uk/empiar/EMPIAR-10028</a></p>
<section id="imports">
<h2>Imports<a class="headerlink" href="#imports" title="Link to this heading">¶</a></h2>
<p>Import packages that will be used throughout this experiment.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">aspire.denoising</span><span class="w"> </span><span class="kn">import</span> <span class="n">LegacyClassAvgSource</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">aspire.reconstruction</span><span class="w"> </span><span class="kn">import</span> <span class="n">MeanEstimator</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">aspire.source</span><span class="w"> </span><span class="kn">import</span> <span class="n">OrientedSource</span><span class="p">,</span> <span class="n">RelionSource</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<p>Use of GPU is expected for a large configuration.
If running on a less capable machine, or simply experimenting, it is
strongly recommended to reduce <code class="docutils literal notranslate"><span class="pre">img_size</span></code>, <code class="docutils literal notranslate"><span class="pre">n_imgs</span></code>, and
<code class="docutils literal notranslate"><span class="pre">n_nbor</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Inputs</span>
<span class="c1"># Note the published ``shiny_2sets.star`` requires removal of a stray &#39;9&#39; character on line 5476.</span>
<span class="n">starfile_in</span> <span class="o">=</span> <span class="s2">&quot;10028/data/shiny_2sets_fixed9.star&quot;</span>
<span class="n">data_folder</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span>  <span class="c1"># This depends on the specific starfile entries.</span>
<span class="n">pixel_size</span> <span class="o">=</span> <span class="mf">1.34</span>  <span class="c1"># Defined with the dataset from EMPIAR</span>

<span class="c1"># Config</span>
<span class="n">n_imgs</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Set to None for all images in starfile, can set smaller for tests.</span>
<span class="n">img_size</span> <span class="o">=</span> <span class="mi">179</span>  <span class="c1"># Downsample the images/reconstruction to a desired resolution</span>
<span class="n">n_classes</span> <span class="o">=</span> <span class="mi">3000</span>  <span class="c1"># How many class averages to compute.</span>
<span class="n">n_nbor</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># How many neighbors to stack</span>

<span class="c1"># Outputs</span>
<span class="n">preprocessed_fn</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;10028_preprocessed_</span><span class="si">{</span><span class="n">img_size</span><span class="si">}</span><span class="s2">px.star&quot;</span>
<span class="n">class_avg_fn</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;10028_var_sorted_cls_avgs_m</span><span class="si">{</span><span class="n">n_nbor</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">img_size</span><span class="si">}</span><span class="s2">px.star&quot;</span>
<span class="n">oriented_fn</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;10028_oriented_class_averages_</span><span class="si">{</span><span class="n">img_size</span><span class="si">}</span><span class="s2">px.star&quot;</span>
<span class="n">volume_output_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;10028_abinitio_c</span><span class="si">{</span><span class="n">n_classes</span><span class="si">}</span><span class="s2">_m</span><span class="si">{</span><span class="n">n_nbor</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">img_size</span><span class="si">}</span><span class="s2">px.mrc&quot;</span>
</pre></div>
</div>
</section>
<section id="source-data-and-preprocessing">
<h2>Source data and Preprocessing<a class="headerlink" href="#source-data-and-preprocessing" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">RelionSource</span></code> is used to access the experimental data via a <cite>STAR</cite> file.
Begin by preprocessing to correct for CTF, then downsample to <code class="docutils literal notranslate"><span class="pre">img_size</span></code>
and apply noise correction.</p>
<p>ASPIRE-Python has the ability to automatically adjust CTF filters
for downsampling, and this can be employed simply by changing the
order of preprocessing steps, saving time by phase flipping lower
resolution images.  However, this script intentionally follows the
order described in the original publication.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a source object for the experimental images</span>
<span class="n">src</span> <span class="o">=</span> <span class="n">RelionSource</span><span class="p">(</span>
    <span class="n">starfile_in</span><span class="p">,</span> <span class="n">pixel_size</span><span class="o">=</span><span class="n">pixel_size</span><span class="p">,</span> <span class="n">max_rows</span><span class="o">=</span><span class="n">n_imgs</span><span class="p">,</span> <span class="n">data_folder</span><span class="o">=</span><span class="n">data_folder</span>
<span class="p">)</span>

<span class="c1"># Use phase_flip to attempt correcting for CTF.</span>
<span class="c1"># Caching is used throughout for speeding up large datasets on high memory machines.</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Perform phase flip to input images.&quot;</span><span class="p">)</span>
<span class="n">src</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">phase_flip</span><span class="p">()</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="c1"># Downsample the images.</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Set the resolution to </span><span class="si">{</span><span class="n">img_size</span><span class="si">}</span><span class="s2"> X </span><span class="si">{</span><span class="n">img_size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">src</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">downsample</span><span class="p">(</span><span class="n">img_size</span><span class="p">)</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="c1"># Normalize the background of the images.</span>
<span class="n">src</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">normalize_background</span><span class="p">()</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="c1"># Estimate the noise and whiten based on the estimated noise.</span>
<span class="n">src</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">legacy_whiten</span><span class="p">()</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="c1"># Optionally invert image contrast.</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Invert the global density contrast&quot;</span><span class="p">)</span>
<span class="n">src</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">invert_contrast</span><span class="p">()</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="c1"># Save the preprocessed images.</span>
<span class="c1"># These can be reused to experiment with later stages of the pipeline</span>
<span class="c1"># without repeating the preprocessing computations.</span>
<span class="n">src</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">preprocessed_fn</span><span class="p">,</span> <span class="n">save_mode</span><span class="o">=</span><span class="s2">&quot;single&quot;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="class-averaging">
<h2>Class Averaging<a class="headerlink" href="#class-averaging" title="Link to this heading">¶</a></h2>
<p>Now perform classification and averaging for each class.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Begin Class Averaging&quot;</span><span class="p">)</span>
<span class="n">avgs</span> <span class="o">=</span> <span class="n">LegacyClassAvgSource</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">n_nbor</span><span class="o">=</span><span class="n">n_nbor</span><span class="p">)</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="c1"># Save the entire set of class averages to disk so they can be re-used.</span>
<span class="n">avgs</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">class_avg_fn</span><span class="p">,</span> <span class="n">save_mode</span><span class="o">=</span><span class="s2">&quot;single&quot;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># We&#39;ll continue our pipeline with the first ``n_classes`` from</span>
<span class="c1"># ``avgs``.  The classes will be selected by the ``class_selector`` of a</span>
<span class="c1"># ``ClassAvgSource``, which in this case will be the class averages</span>
<span class="c1"># having the largest variance.  Note global sorting requires computing</span>
<span class="c1"># all class averages, which is computationally intensive.</span>
<span class="n">avgs</span> <span class="o">=</span> <span class="n">avgs</span><span class="p">[:</span><span class="n">n_classes</span><span class="p">]</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="common-line-estimation">
<h2>Common Line Estimation<a class="headerlink" href="#common-line-estimation" title="Link to this heading">¶</a></h2>
<p>Estimate orientation of projections and assign to source by
applying <code class="docutils literal notranslate"><span class="pre">OrientedSource</span></code> to the class averages from the prior
step. By default this applies the Common Line with Synchronization
Voting <code class="docutils literal notranslate"><span class="pre">CLSync3N</span></code> method.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Begin Orientation Estimation&quot;</span><span class="p">)</span>
<span class="n">oriented_src</span> <span class="o">=</span> <span class="n">OrientedSource</span><span class="p">(</span><span class="n">avgs</span><span class="p">)</span>

<span class="c1"># Save off the selected set of class average images, along with the</span>
<span class="c1"># estimated orientations and shifts.  These can be reused to</span>
<span class="c1"># experiment with alternative volume reconstructions.</span>
<span class="n">oriented_src</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">oriented_fn</span><span class="p">,</span> <span class="n">save_mode</span><span class="o">=</span><span class="s2">&quot;single&quot;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="volume-reconstruction">
<h2>Volume Reconstruction<a class="headerlink" href="#volume-reconstruction" title="Link to this heading">¶</a></h2>
<p>Using the oriented source, attempt to reconstruct a volume.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Begin Volume reconstruction&quot;</span><span class="p">)</span>

<span class="c1"># Set up an estimator to perform the backprojection.</span>
<span class="n">estimator</span> <span class="o">=</span> <span class="n">MeanEstimator</span><span class="p">(</span><span class="n">oriented_src</span><span class="p">)</span>

<span class="c1"># Perform the estimation and save the volume.</span>
<span class="n">estimated_volume</span> <span class="o">=</span> <span class="n">estimator</span><span class="o">.</span><span class="n">estimate</span><span class="p">()</span>
<span class="n">estimated_volume</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">volume_output_filename</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saved Volume to </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">volume_output_filename</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-experiments-experimental-abinitio-pipeline-10028-jsb-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/5c6a670cdebf6083d20b0e71008708f8/experimental_abinitio_pipeline_10028_jsb.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">experimental_abinitio_pipeline_10028_jsb.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/b0d88a7ded4bd8b364d33bf4c45a9c81/experimental_abinitio_pipeline_10028_jsb.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">experimental_abinitio_pipeline_10028_jsb.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../_downloads/46f5a47bdf9a5b9409c89c1bbeaa1945/experimental_abinitio_pipeline_10028_jsb.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">experimental_abinitio_pipeline_10028_jsb.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="example_halfset_pipeline_10028.html" class="btn btn-neutral float-left" title="Abinitio Halfset Pipeline - Experimental Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="experimental_abinitio_pipeline_10073_jsb.html" class="btn btn-neutral float-right" title="Abinitio Pipeline - Experimental Data EMPIAR 10073" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Princeton University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>